var tableData = [{
    si: "1",
    movieName: "Nga Je Masong",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "2",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "3",
    movieName: " chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "4",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "5",
    movieName: "Nga Je Masong",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "6",
    movieName: "Nga Je Masong",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "7",
    movieName: "Nga Je Masong",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "8",
    movieName: "Nga Je Masong",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "9",
    movieName: "Nga Je Masong",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "10",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "11",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "12",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "13",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "14",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "15",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "16",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "17",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "18",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
}, {
    si: "19",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "20",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "21",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "22",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "23",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "24",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "25",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "26",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "27",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "28",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "29",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "30",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "31",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "32",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "33",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "34",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "35",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "36",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "37",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "19",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "38",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "39",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "40",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "41",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "42",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "43",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "44",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "45",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "46",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "47",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "48",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "49",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "50",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "51",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "52",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "53",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "54",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "55",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "56",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "57",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "58",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "59",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "60",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "61",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "62",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "63",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "64",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "65",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "66",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "67",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "68",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "69",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "70",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "71",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "72",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "73",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "74",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "75",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "76",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "77",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "19",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "78",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "79",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "80",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "81",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "82",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "83",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "84",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "85",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "86",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "87",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "88",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "89",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "90",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "91",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "92",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "93",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "94",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "95",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "96",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "97",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "98",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "99",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "100",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "101",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "102",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "103",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "104",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "105",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "106",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "107",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "108",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "109",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "110",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "111",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "112",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "113",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
{
    si: "114",
    movieName: "chasing Star",
    genre: "Drama",
    status: "active",
    duration: "2hrs:3mins",
},
];

//
//
var state = {
    querySet: tableData,
    page: 1,
    row: 10,
    'window': 8,
};
// 
// 
// buildTable()
buildTable();
//
//Pagination............
function pagination(querySet, page, rows) {
    var trimStart = (page - 1) * rows;
    var trimEnd = trimStart + rows;

    var trimmedData = querySet.slice(trimStart, trimEnd);
    // Math.celi..or Math.round
    var pages = Math.ceil(querySet.length / rows);

    return {
        querySet: trimmedData,
        pages: pages,
    };
}
// 
// 
function pageButtons(pages) {
    var wrapper = document.getElementById('pagination-wrapper')

    wrapper.innerHTML = ''

    var maxLeft = (state.page - Math.floor(state.window / 2))
    var maxRight = (state.page + Math.floor(state.window / 2))

    if (maxLeft < 1) {
        maxLeft = 1
        maxRight = state.window
    }

    if (maxRight > pages) {
        maxLeft = pages - (state.window - 1)

        if (maxLeft < 1) {
            maxLeft = 1
        }
        maxRight = pages
    }

    for (var page = maxLeft; page <= maxRight; page++) {
        wrapper.innerHTML += `<button value=${page} class="page btn btn-sm btn-info">${page}</button>`
    }
    // 
    if (state.page != 1) {
        wrapper.innerHTML = `<button value=${1} class="page btn btn-sm btn-info">&#171; First</button>` + wrapper.innerHTML
    }
    // 
    if (state.page != pages) {
        wrapper.innerHTML += `<button value=${pages} class="page btn btn-sm btn-info">Last &#187;</button>`
    }
    // 
    $('.page').on('click', function () {
        $('#table-body').empty()

        state.page = Number($(this).val())

        buildTable()
    })


}
//
//

// 
function buildTable() {
    var table = $('#table-body');
    var myListdata = pagination(state.querySet, state.page, state.row);

    for (var i in myListdata.querySet) {
        var row = `<tr>
                        <td>${myListdata.querySet[i].si}</td>
                        <td>${myListdata.querySet[i].movieName}</td>
                        <td>${myListdata.querySet[i].genre}</td>
                        <td>${myListdata.querySet[i].status}</td>
                        <td>${myListdata.querySet[i].duration}</td>
                        <td>
                            <span class="edit-icon" data-id="${myListdata.querySet[i].si}">
                                <i class="fa fa-edit"></i>
                            </span>
                            <span class="delete-icon" data-id="${myListdata.querySet[i].si}">
                                <i class="fa fa-trash"></i>
                            </span>
                        </td>
                        </tr>`;
        table.append(row);
    }
    pageButtons(myListdata.pages);
}


// 
// 
// Searching
$(document).ready(function () {
    // Function to perform search based on movieName
    function performSearch(searchText) {
        // Retrieve all rows in the table
        var rows = $("#table-body tr");

        // Loop through each row and check if the movieName contains the search text
        rows.each(function () {
            var movieName = $(this).find("td:nth-child(2)").text().toLowerCase();
            if (movieName.includes(searchText.toLowerCase())) {
                $(this).show();
            } else {
                $(this).hide();
            }
        });
    }

    // Trigger search when the search input value changes
    $("#search-input").on("input", function () {
        var searchText = $(this).val();
        performSearch(searchText);
    });


});
//

// For editing


//
// 
