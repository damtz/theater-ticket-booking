var tableData = [{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
}, 
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},


{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
}, 
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},


{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
}, 
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},


{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
}, 
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},


{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
}, 
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},


{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
}, 
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},


{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},
{
    si: "1",
    movieName: "Nga Je Masong",
    hallName: "City Cinema",
    screenDate: "12-07-2023",
    screenTime: "6:30pm",
    
},

];

//
//
var state = {
    querySet: tableData,
    page: 1,
    row: 10,
    'window': 8,
};
// 
// 
// buildTable()
buildTable();
//
//Pagination............
function pagination(querySet, page, rows) {
    var trimStart = (page - 1) * rows;
    var trimEnd = trimStart + rows;

    var trimmedData = querySet.slice(trimStart, trimEnd);
    // Math.celi..or Math.round
    var pages = Math.ceil(querySet.length / rows);

    return {
        querySet: trimmedData,
        pages: pages,
    };
}
// 
// 
function pageButtons(pages) {
    var wrapper = document.getElementById('pagination-wrapper')

    wrapper.innerHTML = ''

    var maxLeft = (state.page - Math.floor(state.window / 2))
    var maxRight = (state.page + Math.floor(state.window / 2))

    if (maxLeft < 1) {
        maxLeft = 1
        maxRight = state.window
    }

    if (maxRight > pages) {
        maxLeft = pages - (state.window - 1)

        if (maxLeft < 1) {
            maxLeft = 1
        }
        maxRight = pages
    }

    for (var page = maxLeft; page <= maxRight; page++) {
        wrapper.innerHTML += `<button value=${page} class="page btn btn-sm btn-info">${page}</button>`
    }
    // 
    if (state.page != 1) {
        wrapper.innerHTML = `<button value=${1} class="page btn btn-sm btn-info">&#171; First</button>` + wrapper.innerHTML
    }
    // 
    if (state.page != pages) {
        wrapper.innerHTML += `<button value=${pages} class="page btn btn-sm btn-info">Last &#187;</button>`
    }
    // 
    $('.page').on('click', function () {
        $('#table-body').empty()

        state.page = Number($(this).val())

        buildTable()
    })


}
//
//

// 
function buildTable() {
    var table = $('#table-body');
    var myListdata = pagination(state.querySet, state.page, state.row);

    for (var i in myListdata.querySet) {
        var row = `<tr>
                        <td>${myListdata.querySet[i].si}</td>
                        <td>${myListdata.querySet[i].movieName}</td>
                        <td>${myListdata.querySet[i].hallName}</td>
                        <td>${myListdata.querySet[i].screenDate}</td>
                        <td>${myListdata.querySet[i].screenTime}</td>
                        <td>
                            <span class="edit-icon" data-id="${myListdata.querySet[i].si}">
                                <i class="fa fa-edit"></i>
                            </span>
                            <span class="delete-icon" data-id="${myListdata.querySet[i].si}">
                                <i class="fa fa-trash"></i>
                            </span>
                        </td>
                        </tr>`;
        table.append(row);
    }
    pageButtons(myListdata.pages);
}


// 
// 
// Searching
$(document).ready(function () {
    // Function to perform search based on movieName
    function performSearch(searchText) {
        // Retrieve all rows in the table
        var rows = $("#table-body tr");

        // Loop through each row and check if the movieName contains the search text
        rows.each(function () {
            var movieName = $(this).find("td:nth-child(2)").text().toLowerCase();
            if (movieName.includes(searchText.toLowerCase())) {
                $(this).show();
            } else {
                $(this).hide();
            }
        });
    }

    // Trigger search when the search input value changes
    $("#search-input").on("input", function () {
        var searchText = $(this).val();
        performSearch(searchText);
    });


});
//

// For editing


//
// 
