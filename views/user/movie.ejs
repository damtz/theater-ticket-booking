<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rating</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper@10/swiper-bundle.min.css" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" />
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

    <link rel="stylesheet" href="/assets/css/rating.css" />
  </head>
  <body>

    <%- include('header') %>
    <!-- =============================================Image Slider========================================= -->

    <div class="container">
      <div class="row">
        <div class="col-lg-3">
          <div class="custom-card ">
          <div class="card">
            <img src="/images/<%= movie.image %>"  class="card-img-top">
            <div class="card-body">
              <div class="container px-2">
                <h5 class="card-title"><%=movie.title%></h5>
                     <div class="row category">
                      <div class="col">
                        <p class="text text-white">Title</p>
                      </div>
                      <div class="col">
                        <p class="text text-white fw-light"><%= movie.title %></p>
                      </div>
                    </div>
                    <div class="row category">
                      <div class="col">
                        <p class="text text-white">Duration</p>
                      </div>
                      <div class="col">
                        <p class="text text-white fw-light"><%= movie.duration %></p>
                      </div>
                    </div>
                    <div class="row category">
                      <div class="col">
                        <p class="text text-white">Genre</p>
                      </div>
                      <div class="col">
                        <p class="text text-white fw-light"><%= movie.genre %></p>
                      </div>
                    </div>
              </div>
              
            </div>
            </div>
            </div>
        </div>
       


<!-- ===============================left div====================================== -->
          <div class="col-lg-9">
            <div class="custom-card card-container">  
            <div class="container booking-summary">
              <form method="POST" action="/addReview">
                <input type="hidden" name="movieId" value="<%= movie.id %>">
              <div class="Feedback mb-5">
                <h4 class="text-white mt-4">Write Review</h4>
                  <textarea class="form-control" name="review" rows="3" cols="30" required></textarea>
                 <hr class="horizontal-line">
                 <button type="submit" class="btn btn-warning btn-lg mt-2" onclick="openPopup()"
                 style="background-color: transparent; border: 2px solid #ffe36d; color: #fff;"
                  onmouseover="this.style.backgroundColor='#ffe36d';"
                    onmouseout="this.style.backgroundColor='transparent';">
                  Submit
                </button>             
               </div>
            </form>

              <% if (reviews.length === 0) { %>
                <p style="color: aliceblue;">No reviews available.</p>
              <% } else { %>
              <% reviews.forEach((review) => { %>
              <div class="Description">
              <div class="useraccount">
                <i class="fa-sharp fa-solid fa-circle-user icon" style="color: #ffe36d; font-size: 24px; margin-right: 10px;"></i>
                <% var reviewer = users.find(user => user.id === review.user_id); %>
                <span class="username text-white">@ <%= reviewer.username %></span>
              </div>

              <p class="text-white" style="font-weight: 200;"><%= review.review %></p>
              </div>
              <% }); %>
                </div>
                <% } %>
              </div>
            </div>

        </div>
      </div>
    </div>

    <%- include('footer') %>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
      integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
      crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/js/all.min.js"></script>

    <script src="https://unpkg.com/swiper@10/swiper-bundle.min.js"></script>

  
<script src="seat.js"></script>


    <script>
      const swiper = new Swiper(".swiper", {
        autoplay: {
          delay: 3000,
          disableOnInteraction: false,
        },
        loop: true,
      });
    </script>
  </body>
</html>
